header


<!-- header.ejs -->
<!DOCTYPE html>
<html>
<head>
  <!-- Seus metadados, estilos e scripts -->
</head>
<body>
  <header>
    <!-- Sua barra de navegação com o dropdown do switcher de idiomas -->
    <nav>
      <ul>
        <li>
          <a href="/">Home</a>
        </li>
        <li class="language-switcher">
          <a href="#" class="dropbtn">Language</a>
          <div class="dropdown-content">
            <a href="/?lang=pt">Português</a>
            <a href="/?lang=en">English</a>
            <!-- Adicione outras opções de idioma aqui, se necessário -->
          </div>
        </li>
      </ul>
    </nav>
  </header>
</body>
</html>


css
/* styles.css */
/* Estilos para o switcher de idiomas */
.language-switcher {
  position: relative;
}

.dropbtn {
  display: block;
  color: #333;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 100px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  color: #333;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #f1f1f1;
}

.language-switcher:hover .dropdown-content {
  display: block;
}



server
const express = require('express');
const i18n = require('i18n');
const app = express();
const PORT = process.env.PORT || 3000;

// Configuração do módulo i18n
i18n.configure({
  locales: ['en', 'pt'], // Idiomas suportados
  defaultLocale: 'pt', // Idioma padrão (português)
  directory: __dirname + '/locales', // Diretório onde estão os arquivos de tradução (não usado neste caso)
  register: global, // Permite acessar as traduções como globais, como: __('Empresas Patrocinadoras')
  queryParameter: 'lang', // Define o nome do parâmetro de consulta para selecionar o idioma (por padrão, 'lang')
  customHeaders: (req, res) => {
    // Define um cabeçalho personalizado para indicar o idioma selecionado
    return req.query.lang;
  },
  logWarnFn: () => {}, // Desabilita os logs de aviso (opcional)
  objectNotation: false, // Altera para false para usar o formato de tradução simples (não aninhado)
});

app.set('view engine', 'ejs');

// Middleware para configurar o idioma com base no cabeçalho personalizado definido no i18n
app.use(i18n.init);

// Rota para a página inicial
app.get('/', (req, res) => {
  res.render('homepage');
});

app.listen(PORT, () => {
  console.log(`Servidor na porta ${PORT}`);
});

